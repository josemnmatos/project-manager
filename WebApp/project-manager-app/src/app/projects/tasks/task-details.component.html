<div class="container">
   <div class=" row">
      <div class=" col-md-3 mt-3">
         <a href="/projects/{{projectId}}/tasks"><button class=" btn btn-outline-primary w-50">Back</button></a>
      </div>
   </div>
</div>

<div class="row text-center m-2">
   <h1>Task Details</h1>
</div>

<div class="container border-light">
   <hr>
   <div class="row bg-secondary-subtle p-3 rounded-4 mb-3">
      <div class="col-md-6 fw-bold">
         <h2>{{task?.name}}</h2>
      </div>
      <div class="col-md-6 text-end pe-2 pt-2">
         <h3>{{task?.deadline | date}}</h3>
      </div>
   </div>

   <div class="row pt-4 pb-2 ps-2  mt-2 mb-4 border rounded-4 border-4 border-secondary-subtle">
      <div class="col-md-6">
         <h5>
            <p *ngIf="task?.state != 1" class=" fst-italic">Assigned to <span class="me-3 fw-bold">{{task?.developerAssignedTo?.firstName}}
               {{task?.developerAssignedTo?.lastName}}</span> <span> <i class="bi bi-person-circle"></i></span>  </p>
         </h5>
         <h5>
            <p *ngIf="task?.state == 1" class=" fst-italic fw-bold">This task has not yet been assigned to any
               developer.</p>
         </h5>
      </div>
      <div class="col-md-6 text-end">
         <span *ngIf="task?.state != 1">
            <button class="btn btn-primary align-content-end w-25">Go to profile</button>
         </span>
         <span *ngIf="task?.state == 1">
            <button class="btn btn-primary align-content-end w-25">Assign</button>
         </span>
      </div>
   </div>

   <div class="row pt-4 pb-2 ps-2  mt-2 mb-4 border rounded-4 border-4 border-secondary-subtle">
      <div class="col-md-6">
         <h5>
            <p class=" fst-italic">{{task?.description}}</p>
         </h5>
      </div>
      <div class="col-md-6 text-end">

      </div>
   </div>



   <div class="container">
      <div class="row">
         <div class="col-md-6 text-center fw-semibold">
            <h3 class=" ">State</h3>
         </div>
         <div class="col-md-6 text-center fw-semibold">
            <h3 class=" ">Time left</h3>
         </div>
      </div>
      <div class=" row">
         <div class=" col-md-6 text-center fw-semibold">
            <h3>
               <span>
                  <div class="row p-4 rounded-4 ms-5 me-5"
                     [ngClass]="task?.state == 1 ? 'bg-danger-subtle' : task?.state == 2? 'bg-warning-subtle' : 'bg-success-subtle'">
                     <div class=" col-md-7 text-end">
                        <span>
                           <h4 *ngIf="task?.state==1">Not Assigned</h4>
                           <h4 *ngIf="task?.state==2">Pending</h4>
                           <h4 *ngIf="task?.state==3">Completed</h4>
                        </span>
                     </div>
                     <div class=" col-md-5 text-start">
                        <span>
                           <i *ngIf="task?.state==1" class="bi bi-person-x-fill" style="color: red;"></i>
                           <i *ngIf="task?.state==2" class="bi bi-hourglass-split" style="color: orange;"></i>
                           <i *ngIf="task?.state==3" class="bi bi-check-circle-fill" style="color: green;"></i>

                        </span>
                     </div>
                  </div>



               </span>
            </h3>
         </div>
         <div class=" col-md-6 text-center fw-semibold">
            <div class="row p-4 bg-secondary-subtle rounded-4 ms-5 me-5">
               <h3>{{daysToDeadline}} days</h3>
            </div>


         </div>

      </div>



   </div>




</div>